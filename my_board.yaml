units:
  # proxy spacing variables
  kx: cx
  ky: cy
  # padding variables
  px: kx + 4
  py: ky + 4

points:
    zones:
        matrix:
            key:
                padding: 1ky
                spread: 1kx
            columns:
                outer: 
                pinky:
                ring:
                    key.stagger: 6
                middle:
                    key.stagger: 4
                index:
                    key.stagger: -4
                inner:
                    key.stagger: -3
                bracket:
                    key.stagger: 0.5ky
                    rows.top.skip: true

            rows:
                bottom:
                home:
                top:
        thumbs:
            key:
                padding: 1ky
                spread: 1kx
            anchor:
                ref: matrix_ring_bottom
                shift: [9.8,-1ky]
            columns:
                alt:
                cmd:    
                layer:
                    key:
                        splay: -5
                        shift: [1,-3.4]
                enter:
                    key:
                        width: 1.5kx
                        splay: 70
                        shift: [-0.4,-5.2]
                  
            rows:
                cluster:
outlines:
    raw:
      - what: rectangle
        where: true
        bound: true
        size: [px, py]
        fillet: 2
    keys:
      - what: rectangle
        where: true
        bound: false
        size: [kx-0.5,ky-0.5]
      - what: rectangle
        where: thumbs_enter_cluster
        bound: false
        size: [kx*1.5-0.5, ky-0.5]
        
    boardLeft:
      - what: polygon
        operation: stack
        fillet: 2
        points:
          - ref: thumbs_enter_cluster
            shift: [-0.5px,-0.75py]
          - ref: thumbs_layer_cluster
           
    combo:
      - name: boardLeft
      - operation: subtract
        name: keys
